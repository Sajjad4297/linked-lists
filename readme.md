

# درسنامه لیست‌های پیوندی (Linked Lists)

---

## 1. لیست پیوندی چیست؟

<p dir="rtl">
لیست پیوندی یک <b>ساختار داده‌ای خطی</b> است که از مجموعه‌ای از <b>نودها (Node)</b> ساخته شده است.
هر نود شامل دو بخش است:
</p>
در لیست پیوندی شما میتواند هر آیتم را در هر کجای حافظه قرار دهید، اما باید جایگاه آیتم بعدی را هم در کنار آن آیتم قرار بدهید، در واقع لیست پیوندی مجموعه ای از داده ها است که به صورت پراکنده در حافظه ذخیره شده اند اما هر کدام به وسیله داشتن آدرس بعدی در حافظه به آن متصل شده است.
</br>
</br>

هر node در یک لیست پیوندی به دو قسمت نیاز دارد:
</br>

- <b>دیتا (Data)</b>: داده‌ای که نود نگه می‌دارد.
- <b>اشاره‌گر (Pointer/Next)</b>: آدرس نود بعدی در لیست.

<p dir="rtl">
به زبان ساده: به جای اینکه مثل آرایه، همه‌ی عناصر کنار هم در حافظه باشند هر نود خودش می‌داند نود بعدی کجاست.
</p>

---

## 2. تفاوت های لیست پیوندی با آرایه
</br>
خب اولین چیزی که باید بررسی کنیم اینه که این لیست ها کجا به درد میخورن و چه وقت و چرا باید بجای آرایه از لیست های پیوندی استفاده کنیم.
</br>

### ساختار، اندازه و میزان حافظه اشغالی
در حالی که آرایه ها به صورت پشت سر هم در حافظه ذخیره میشن، لیست های پیوندی نیازی ندارن که پی در پی باشن و هرکدوم میتونن هرجایی باشن.

        آرایه:
        [ 10 ][ 20 ][ 30 ][ 40 ]


        لیست پیوندی:
        [ 10 ] -----------------------> [ 20 ]
                                          |
                    [ 30 ] <--------------\
                    |
                    /---------> NULL

### سرعت پیدا کردن اطلاعات

فرض کنید ما میخواهیم آیتم 100 ام از یک آرایه را بخوانیم، کار بسیار راحتی خواهد بود کافی است از آدرس آیتم اول، نود و نه خانه به جلو برویم. پس عملا ما با یک عملیات آیتم صدم را پیدا میکنیم، بنابراین پیچیدگی زمانی آن، O(1) خواهد بود.
اما درباره لیست پیوندی، قضیه متفاوت خواهد بود، برای پیدا کردن آیتم صدم در لیست پیوندی ابتدا باید آیتم یک را پیدا کنیم سپس آدرس آیتم دوم را در آنجا پیدا کنیم، بعد آیتم سوم و چهارم و… همین روند را ادامه بدهیم تا بالاخره به آیتم صدم برسیم. به عبارتی باید خانه ها را یکی یکی به جلو بیاییم پس پیچیدگی زمانی پیدا کردن آیتم در لیست پیوندی به صورت O(n) خواهد بود.
</br>
</br>
### سرعت اضافه یا حذف کردن دیتا

به نظر میرسد اضافه کردن دیتا به آرایه کار راحتی است، کافیست بعد از آخرین آیتم، یک آیتم جدید قرار دهیم. اما مسئله، زمانی پیچیده میشود که بخواهیم به اول یا اواسط یک آرایه آیتم جدید اضافه کنیم، در این صورت لازم داریم که تمام آیتم های بعدی را به یک خانه جلوتر منتقل کنیم. برای مثال اگر ما یک آرایه داشته باشیم که در حال حاضر ده عضو داشته باشد و بخواهیم به اول آن یک آیتم جدید اضافه کنیم باید آیتم یک را ببریم بجای آیتم دو و آیتم دو بجای آیتم سه ببریم و همین روند را ادامه دهیم تا همه آیتم ها یک خانه جابجا شوند و بتوانیم آیتم جدید را در خانه اول بگذاریم. اضافه کردن به میانه آرایه هم فرایند مشابهی دارد.

همین روند برای حذف کردن دیتا هم وجود دارد. باید تمام آیتم های بعد از آیتم حذف شده، یک خانه به عقب برگردند. برای حذف و اضافه کردن در آرایه، ممکن است نیاز پیدا کنیم تا همه آیتم ها را جابجا کنیم، پس میتوانیم بگوییم که پیچیدگی زمانی این فرایند به صورت O(n) خواهد بود.

اما درباره لیست پیوندی چطور؟ اضافه کردن در لیست پیوندی بسیار ساده است، آیتم جدید را در هر جایی از حافظه که بخواهیم قرار میدهیم و آدرس آن را در آیتم قبلی قرار میدهیم. فرض کنیم که یه لیست پیوندی با 10 آیتم داریم و میخواهیم آیتم جدیدی بین آیتم 3 و 4 اضافه کنیم. کافیست آیتم جدید را در جایی از حافظه قرار دهیم و آدرس آن را به آیتم 3 بدهیم و آدرس آیتم 4 را به آیتم جدید بدهیم. بدون اینکه نیاز به جابجایی دیتا های قبلی وجود داشته باشد.

حذف کردن از لیست پیوندی نیز کار راحتی خواهد بود، کافییست آیتم مورد نظر را از حافظه حذف کنیم و آدرس آیتم بعدی را به آیتم قبلی بدهیم. اضافه و حذف کردن در لیست پیوندی با یک عملیات انجام خواهد شد پس پیچیدگی زمانی آن به صورت O(1) خواهد بود.

### نتیجه

اینکه سراغ کدام یک برویم بستگی به نیاز ما دارد. اگر قرار است که مجموعه ای داشته باشیم که مدام به آن اضافه یا از آن حذف کنیم، بهتر است از لیست پیوندی استفاده کنیم. برای مثال اگر بخواهیم یک نرم افزار todo list بنویسیم که کار هایمان را در آن قرار دهیم بهتر است از لیست پیوندی استفاده کنیم چون مدام نیاز داریم میان کارهای قبلی، کار جدیدی اضافه کنیم و کار هایی که انجام میدهیم را از لیست حذف کنیم.

اما اگر مجموعه داده های ما تغییرات زیادی ندارد و ما نیاز داریم که مدام از میانه آن آیتم های مان را بخوانیم بهتر است از آرایه کمک بگیریم، برای مثال اگر بخواهیم یک نرم افزار دیکشنری بنویسیم بهتر است از آرایه برای نگهداری لغات استفاده کنیم به دلیل اینکه لغات دیکشنری معمولا کم و زیاد نمیشود اما در عوض همیشه نیاز داریم که کلمه مورد نظرمان را بین کلمات پیدا کنیم.


<table>
<tr>
<th>ویژگی</th>
<th>آرایه</th>
<th>لیست پیوندی</th>
</tr>
<tr>
<td>اندازه</td>
<td>ثابت</td>
<td>پویا</td>
</tr>
<tr>
<td>دسترسی به اندیس</td>
<td>O(1)</td>
<td>O(n)</td>
</tr>
<tr>
<td>حافظه</td>
<td>کمتر</td>
<td>بیشتر (برای اشاره‌گرها)</td>
</tr>
<tr>
<td>درج/حذف</td>
<td>زمان‌بر O(n)</td>
<td>سریع O(1) اگر نود را داشته باشیم</td>
</tr>
</table>

---

## 3. ساختار یک نود و لیست پیوندی

### ساختار نود
```text
Data | Next
```

### مثال لیست پیوندی یک‌طرفه

```
[10|Next] -> [20|Next] -> [30|Next] -> None
```

- <b>Head</b>: اولین نود لیست
- <b>Tail</b>: آخرین نود که اشاره‌گرش `None` است

### شکل شماتیک
```
Head
  |
  v
[10|Next] -> [20|Next] -> [30|Next] -> None
```

---

## 4. مزایا و معایب

**مزایا:**

- اندازه‌ی لیست پویا است و می‌تواند تغییر کند.
- افزودن یا حذف نودها آسان‌تر از آرایه است.

**معایب:**

- نیاز به حافظه بیشتر برای اشاره‌گرها.
- دسترسی به عناصر با اندیس سخت‌تر و زمان‌بر است.

**مثال زندگی واقعی:**
لیست‌های پایتون (Python lists) در پس‌زمینه آرایه‌های پویا هستند ولی مفهوم مشابه دارند: عناصر می‌توانند اضافه یا حذف شوند.

---

## 5. انواع لیست‌های پیوندی

### 5.1. لیست پیوندی یک‌طرفه (Singly Linked List)

```
Head
  |
  v
[10|Next] -> [20|Next] -> [30|Next] -> None
```

- افزودن نود: ابتدا یا انتهای لیست
- حذف نود: تغییر اشاره‌گر نود قبل

---

### 5.2. لیست پیوندی دوطرفه (Doubly Linked List)

```
None <- [10|Prev|Next] <-> [20|Prev|Next] <-> [30|Prev|Next] -> None
```

- حرکت به جلو و عقب ممکن است
- حذف و درج سریع‌تر است، اما حافظه بیشتر نیاز دارد

---

### 5.3. لیست پیوندی حلقوی (Circular Linked List)

```
        +----------------+
        |                |
[10|Next] -> [20|Next] -> [30|Next]
        ^                |
        +----------------+
```

- نود آخر به نود اول اشاره می‌کند
- مناسب برای پیمایش مداوم و برنامه‌های حلقوی

---

## 6. عملیات روی لیست پیوندی

### افزودن نود
- ابتدای لیست: تغییر Head
- انتهای لیست: تغییر Next نود Tail

**مثال: افزودن 5 به ابتدای لیست**
```
قبل:  [10] -> [20] -> [30]
بعد:   [5] -> [10] -> [20] -> [30]
```

### حذف نود
- تغییر اشاره‌گر نود قبل، نود حذف می‌شود

**مثال: حذف نود 20**
```
قبل:  [5] -> [10] -> [20] -> [30]
بعد:   [5] -> [10] -> [30]
```

---

## 7. نکات مهم

- لیست‌های پیوندی برای حذف و درج مکرر بهتر هستند.
- اگر دسترسی سریع به اندیس‌ها لازم است، آرایه مناسب‌تر است.
- حافظه اضافی برای اشاره‌گرها باید در نظر گرفته شود.
